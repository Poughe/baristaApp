<!DOCTYPE html>
<html lang="en">
	<head>
    	<meta charset="utf-8">
    	<meta name="description" content="Your description goes here">
    	<meta name="keywords" content="one, two, three">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Barista</title>
		<!--Font Styles-->
		
		<!-- external CSS link -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
		<!--<link rel="stylesheet" href="css/normalize.css">-->
		<!--<link rel="stylesheet" href="css/reset.css">-->
		<link rel="stylesheet" href="css/style.css">
		<!-- Boxicons CDN Link -->
		<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
	</head>
	<body class="bg-dark">
		<div class="bg-dark p-5">
			<div class="row mx-0 py-3 bg-secondary">
				<!--Navigation Bar-->
				<div class="container my-2">
					<ul class="nav justify-content-end">
						<li class="nav-item">
							<small class="text-light" id="displayDateTime" text-muted></small>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/">Dashboard</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/login">Barista Login</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/">Log-Out</a>
						</li>
					</ul>
				</div>
				<div class="d-flex container justify-content-center">
				  <img src="/images/barista.png" alt="GG logo">
				</div>


				<div class="container">
					<div class="page-header text-center">
						<h1 class="profile text-light">Barista Dashboard</h1>
					</div>
				</div>
		
				<div class="container">
					<section class="box">
						<h3 class="orderTitles text-light">Incoming Orders:</h3>
						<ul class="orders text-light">
							<% for(var i=0; i<orders.length; i++) {%>
							<!-- console.log(`i is now ${i}`, orders[i]) -->
							<% if(!orders[i].completed) { %>
							<li class="message">
								<p class="left">Customer Name: <span class="orderItem"><%= orders[i].customerName %></span></p>
								<p class="left">Customer Order: <span class="orderItem">
								<ul>
									<% const currentOrder = orders[i] %>
									<% for(var j=0; j<currentOrder.orderArray.length; j++) {%>	
									<!-- console.log(`j is now ${j}`, orders[i].orderArray[j]) -->
									<li><%=currentOrder.orderArray[j].itemName%></li> 
									<%} %>
								</ul>
								</span></p>
							</li>
							<button id="<%=currentOrder._id%>" type="button" class="completeButton btn btn-primary">Complete</button>
							<% }} %>
						</ul>
					</section>

					<section class="box">
						<h3 class="orderTitles text-light" id="complete">Completed Orders:</h3>
						<ul class="orders text-light">
							<% for(var i=0; i<orders.length; i++) {%>
							<% if(orders[i].completed){ %>
							<li class="message">
								<p class="left">Barista: <span class="orderItem "><%= orders[i].barista %></span></p>
								<p class="left">Customer Name: <span class="orderItem"><%= orders[i].customerName %></span></p>
								<p class="left">Customer Order: <span class="orderItem">
								<ul>
									<% const currentOrder = orders[i] %>
									<% for(var j=0; j<currentOrder.orderArray.length; j++) {%>	
									<!-- console.log(`j is now ${j}`, orders[i].orderArray[j]) -->
									<li><%=currentOrder.orderArray[j].itemName%></li> 
									<%} %>
								</ul>
								</span></p>
							</li>		
			  				<% }} %>
						</ul>
						<span><i id="trash" class="fa fa-trash bg-light" aria-hidden="true"></i></span>		
					</section>
				</div>
			</div>
		</div>
		
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
		<script src="https://kit.fontawesome.com/c0e668a8ad.js" crossorigin="anonymous"></script>
		<script type="text/javascript" src="js/barista.js"></script>
		<script type="text/javascript" src="js/main.js"></script>

	</body>
</html>